# projectbrief.md

## プロジェクトの目的
このプロジェクトの目的は、v0で作成したデザイン・動作・DBへの仮入力を、Next.js 15とSupabaseを用いて正しくデプロイし、実運用可能な形に清書することです。
また、MCPツール（supabase）を活用したDB操作・テストデータ投入・運用自動化により、現場運用・拡張性・信頼性を最大化します。

## 実装すべき主な機能
- Supabaseとの接続・連携（CRUD操作、clinic_id必須、ageカラム送信廃止）
- MCPツールによるDB操作・テストデータ投入・運用自動化
- paramsのPromise対応・"use client"ディレクティブの適用による最新Next.js仕様への完全準拠
- Server/Client Componentのエラー・Hydrationエラーの根本解消
- PatientsList.tsxによる患者一覧UIの一元化
- 管理計画書作成・印刷・詳細表示など、現場運用に即したUI/UXの最適化
- ブラウザ上での完全な動作
- Vercelへのデプロイ
- （最終段階で）委員単位でのログイン機能

※Supabaseの公式ドキュメントやNext.js 15での利用チュートリアルを十分に参照し、正しい実装を行うこと。

## 想定ユーザー・解決する課題
- 仮実装から本番運用への移行
- Supabaseとの正しい連携によるデータ管理
- MCPツールによるDB操作・テストデータ投入・運用自動化
- DB制約とUI/UXの両立
- Next.js/Supabaseの最新仕様への追従
- ブラウザ上での安定した動作とエラーの根本解消
- 管理計画書作成・印刷・詳細表示など、現場運用に即したプロダクト体験

## 成功基準・制約
- ブラウザ上で完璧に動作すること
- SupabaseとのCRUDがすべて実現できていること（clinic_id必須、ageカラム送信廃止等の制約も含む）
- MCPツールによるDB操作・テストデータ投入・運用自動化が実現できていること
- paramsのPromise対応・"use client"ディレクティブの適用など、Next.js/Supabaseの最新仕様に完全準拠していること
- 管理計画書作成・印刷・詳細表示など、現場で本当に使えるUI/UXが実現できていること
- Vercel上で問題なくデプロイできていること
